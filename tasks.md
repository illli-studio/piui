# PiUI 升级任务清单

> 项目：PiUI - 视频封面制作工具  
> 创建日期：2026-02-25  
> 总任务数：120+

## 项目现状分析

**问题：**
- 缺少样式，页面混乱
- 不好用
- 需要全面升级

**目标：**
- 完整的设计系统
- 优秀的用户体验
- 流畅的交互

---

## 第一阶段：设计系统基础 (Tasks 1-20)

### 1.1 全局样式 (1-8)

- [ ] **Task 1**: 创建 `src/styles/variables.css` - 定义所有 CSS 变量（颜色、字体、间距、圆角等）
- [ ] **Task 2**: 创建 `src/styles/reset.css` - 完整的 CSS reset
- [ ] **Task 3**: 创建 `src/styles/typography.css` - 字体排版系统
- [ ] **Task 4**: 创建 `src/styles/buttons.css` - 按钮组件样式
- [ ] **Task 5**: 创建 `src/styles/inputs.css` - 输入框组件样式
- [ ] **Task 6**: 创建 `src/styles/cards.css` - 卡片组件样式
- [ ] **Task 7**: 创建 `src/styles/modals.css` - 模态框样式
- [ ] **Task 8**: 创建 `src/styles/utilities.css` - 工具类

### 1.2 暗色主题 (9-14)

- [ ] **Task 9**: 实现暗色主题主背景 `#0D0D0F`
- [ ] **Task 10**: 实现 Surface 层 `#18181B`
- [ ] **Task 11**: 实现 Elevated Surface `#27272A`
- [ ] **Task 12**: 实现边框颜色 `#3F3F46`
- [ ] **Task 13**: 实现主色调橙色 `#F97316`
- [ ] **Task 14**: 实现强调色青色 `#22D3EE`

### 1.3 字体系统 (15-20)

- [ ] **Task 15**: 配置 Outfit 字体（标题）
- [ ] **Task 16**: 配置 DM Sans 字体（正文）
- [ ] **Task 17**: 创建字体工具类
- [ ] **Task 18**: 实现 H1-H6 标题样式
- [ ] **Task 19**: 实现正文段落样式
- [ ] **Task 20**: 实现小字和辅助文字样式

---

## 第二阶段：布局与框架 (Tasks 21-40)

### 2.1 主布局 (21-26)

- [ ] **Task 21**: 重构 App.tsx 布局，使用 CSS Grid
- [ ] **Task 22**: 实现 Header 60px 固定高度
- [ ] **Task 23**: 实现 Sidebar 280px 宽度，可折叠
- [ ] **Task 24**: 实现 Properties Panel 300px 宽度，可折叠
- [ ] **Task 25**: 实现 Canvas 区域自适应
- [ ] **Task 26**: 实现 Layers Panel 右侧折叠面板

### 2.2 响应式布局 (27-34)

- [ ] **Task 27**: 桌面端布局 (>=1200px)
- [ ] **Task 28**: 平板端布局 (768-1199px)，面板默认折叠
- [ ] **Task 29**: 移动端布局 (<768px)，简化布局
- [ ] **Task 30**: 实现面板折叠/展开动画
- [ ] **Task 31**: 实现响应式断点混入 (mixin)
- [ ] **Task 32**: 实现移动端触控优化
- [ ] **Task 33**: 实现横屏/竖屏适配
- [ ] **Task 34**: 实现窗口大小变化平滑过渡

### 2.3 视觉效果 (35-40)

- [ ] **Task 35**: 实现 Glassmorphism 效果 (backdrop-filter: blur)
- [ ] **Task 36**: 实现阴影系统 (subtle/elevated)
- [ ] **Task 37**: 实现过渡动画 (200ms/300ms)
- [ ] **Task 38**: 实现圆角系统 (8px/12px/16px)
- [ ] **Task 39**: 实现悬停效果 (hover states)
- [ ] **Task 40**: 实现加载状态动画

---

## 第三阶段：Header 组件 (Tasks 41-50)

- [ ] **Task 41**: 实现 Logo 和标题区域
- [ ] **Task 42**: 实现工具栏（撤销/重做按钮）
- [ ] **Task 43**: 实现导出按钮 + 下拉菜单
- [ ] **Task 44**: 实现保存/加载按钮
- [ ] **Task 45**: 实现项目名称显示
- [ ] **Task 46**: 添加按钮悬停效果
- [ ] **Task 47**: 添加按钮点击反馈
- [ ] **Task 48**: 实现 Header 暗色背景
- [ ] **Task 49**: 实现 Header 底部边框
- [ ] **Task 50**: 添加 Header 阴影效果

---

## 第四阶段：Sidebar 组件 (Tasks 51-65)

### 4.1 尺寸预设面板 (51-55)

- [ ] **Task 51**: 实现预设尺寸网格布局（2列）
- [ ] **Task 52**: 实现每个预设卡片样式
- [ ] **Task 53**: 添加卡片悬停效果（边框高亮）
- [ ] **Task 54**: 实现选中状态样式
- [ ] **Task 55**: 添加尺寸预览图标

### 4.2 模板面板 (56-60)

- [ ] **Task 56**: 实现模板网格布局
- [ ] **Task 57**: 实现模板卡片样式
- [ ] **Task 58**: 实现模板预览缩略图
- [ ] **Task 59**: 实现模板分类标签
- [ ] **Task 60**: 实现模板搜索/筛选

### 4.3 工具栏 (61-65)

- [ ] **Task 61**: 实现工具按钮（选择/文本/矩形/圆形/线条/图片）
- [ ] **Task 62**: 实现工具图标
- [ ] **Task 63**: 实现选中工具高亮
- [ ] **Task 64**: 实现工具提示 (tooltip)
- [ ] **Task 65**: 实现图片上传按钮

---

## 第五阶段：Canvas 组件 (Tasks 66-80)

### 5.1 画布渲染 (66-70)

- [ ] **Task 66**: 实现画布背景（网格/纯色）
- [ ] **Task 67**: 实现元素渲染（文本/图形/图片）
- [ ] **Task 68**: 实现画布缩放 (25%-400%)
- [ ] **Task 69**: 实现画布平移 (middle mouse / space+drag)
- [ ] **Task 70**: 实现缩放/平移过渡动画

### 5.2 元素交互 (71-75)

- [ ] **Task 71**: 实现选择框显示
- [ ] **Task 72**: 实现调整手柄（8个方向+旋转）
- [ ] **Task 73**: 实现拖拽移动
- [ ] **Task 74**: 实现调整大小
- [ ] **Task 75**: 实现旋转操作

### 5.3 辅助功能 (76-80)

- [ ] **Task 76**: 实现标尺 (rulers)
- [ ] **Task 77**: 实现网格吸附
- [ ] **Task 78**: 实现对齐辅助线
- [ ] **Task 79**: 实现多选 (Shift+点击)
- [ ] **Task 80**: 实现框选

---

## 第六阶段：Properties Panel (Tasks 81-90)

- [ ] **Task 81**: 实现面板布局
- [ ] **Task 82**: 实现位置属性 (X, Y)
- [ ] **Task 83**: 实现尺寸属性 (W, H)
- [ ] **Task 84**: 实现旋转属性
- [ ] **Task 85**: 实现透明度属性
- [ ] **Task 86**: 实现填充颜色选择器
- [ ] **Task 87**: 实现描边设置
- [ ] **Task 88**: 实现阴影设置
- [ ] **Task 89**: 实现渐变填充
- [ ] **Task 90**: 实现文字属性（字体/大小/粗细/对齐）

---

## 第七阶段：Layers Panel (Tasks 91-95)

- [ ] **Task 91**: 实现图层列表布局
- [ ] **Task 92**: 实现图层名称显示
- [ ] **Task 93**: 实现可见性切换按钮
- [ ] **Task 94**: 实现锁定切换按钮
- [ ] **Task 95**: 实现拖拽排序

---

## 第八阶段：AI 生成面板 (Tasks 96-100)

- [ ] **Task 96**: 实现文本输入框
- [ ] **Task 97**: 实现生成按钮 + 加载状态
- [ ] **Task 98**: 实现生成结果预览
- [ ] **Task 99**: 实现应用到画布按钮
- [ ] **Task 100**: 实现生成历史记录

---

## 第九阶段：导出功能 (Tasks 101-105)

- [ ] **Task 101**: 实现导出格式选择 (PNG/JPG/SVG/PDF)
- [ ] **Task 102**: 实现 JPG 质量滑块
- [ ] **Task 103**: 实现导出进度条
- [ ] **Task 104**: 实现复制到剪贴板
- [ ] **Task 105**: 实现导出成功提示

---

## 第十阶段：用户体验优化 (Tasks 106-115)

- [ ] **Task 106**: 实现快捷键提示
- [ ] **Task 107**: 实现右键菜单
- [ ] **Task 108**: 实现撤销/重做栈可视化
- [ ] **Task 109**: 实现历史记录面板
- [ ] **Task 110**: 实现拖放上传区域
- [ ] **Task 111**: 实现文件拖放反馈
- [ ] **Task 112**: 实现自动保存指示器
- [ ] **Task 113**: 实现撤销/重做快捷键
- [ ] **Task 114**: 实现复制/粘贴快捷键
- [ ] **Task 115**: 实现删除快捷键

---

## 第十一阶段：性能优化 (Tasks 116-120)

- [ ] **Task 116**: 实现 Canvas 虚拟化渲染
- [ ] **Task 117**: 实现元素缓存
- [ ] **Task 118**: 实现懒加载图片
- [ ] **Task 119**: 优化大型画布性能
- [ ] **Task 120**: 实现 60fps 流畅动画

---

## 后续任务 (121+)

- [ ] **Task 121**: 实现渐变预设库
- [ ] **Task 122**: 实现图案填充
- [ ] **Task 123**: 实现文字样式预设
- [ ] **Task 124**: 实现形状预设
- [ ] **Task 125**: 实现自定义字体上传
- [ ] **Task 126**: 实现 Google Fonts 集成
- [ ] **Task 127**: 实现历史记录持久化
- [ ] **Task 128**: 实现云端保存
- [ ] **Task 129**: 实现团队协作
- [ ] **Task 130**: 实现版本历史

---

## 优先级排序

### P0 - 必须完成（基础可用）
Tasks: 1-40, 66-80

### P1 - 重要（功能完整）
Tasks: 41-65, 81-100

### P2 - 优化（体验提升）
Tasks: 101-120

### P3 - 高级功能
Tasks: 121+

---

## 开始之前

1. 先运行 `npm run dev` 查看当前状态
2. 按优先级逐个完成任务
3. 每完成一个模块，测试功能正常
4. 提交代码时写清楚完成的任务

---

*生成时间: 2026-02-25*
*监工: 小灵*
